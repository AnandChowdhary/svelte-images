{"version":3,"file":"svelte-images.esm.js","sources":["../src/Images/Carousel.svelte","../src/Images/Images.svelte","../src/Images/Modal.svelte","../src/Images/index.svelte","../src/index.js"],"sourcesContent":["<script>\n  import { fade } from \"svelte/transition\";\n  export let images;\n  export let curr_idx = 0;\n\n  let translateX = -curr_idx * window.innerWidth;\n\n  function increment(num) {\n    return num >= images.length - 1 ? num : num + 1;\n  }\n\n  function decrement(num) {\n    return num == 0 ? 0 : num - 1;\n  }\n\n  const blinkDelay = 50;\n  let blink = true;\n\n  function doBlink() {\n    blink = false;\n    setTimeout(() => (blink = true), blinkDelay);\n  }\n\n  function right() {\n    doBlink();\n    curr_idx = increment(curr_idx);\n    translateX -= window.innerWidth;\n  }\n\n  function left() {\n    doBlink();\n    curr_idx = decrement(curr_idx);\n    translateX += window.innerWidth;\n  }\n</script>\n\n<style>\n  .carousel {\n    position: relative;\n    overflow: hidden;\n    display: inline-flex;\n    transition: transform 500ms cubic-bezier(0.23, 1, 0.32, 1) 0s,\n      opacity 500ms cubic-bezier(0.23, 1, 0.32, 1) 0s;\n  }\n  .nav {\n    display: flex;\n    box-sizing: border-box;\n    -webkit-box-align: center;\n    align-items: center;\n    -webkit-box-pack: justify;\n    justify-content: space-between;\n    position: absolute;\n    width: 100vw;\n    height: 100%;\n  }\n  .carousel img {\n    height: 100%;\n    width: auto;\n    margin: auto;\n    user-select: none;\n  }\n  .carousel .img-container {\n    width: 100vw;\n    display: flex;\n    justify-content: center;\n  }\n  .nav button {\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    outline: none !important;\n    background: rgba(255, 255, 255, 0.2);\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    display: flex;\n    color: white;\n    margin: 0 20px;\n  }\n  .nav svg {\n    display: inline-block;\n    fill: currentcolor;\n    height: 48px;\n    stroke: currentcolor;\n    stroke-width: 0;\n    width: 48px;\n  }\n  .empty {\n    width: 100px;\n  }\n</style>\n\n<div class=\"carousel\" style={`transform: translate3d(${translateX}px, 0, 0);`}>\n  {#each images as image, i}\n    <div class=\"img-container\">\n      <div class=\"nav\">\n        {#if blink && curr_idx > 0}\n          <button on:click={left} in:fade out:fade>\n            <svg role=\"presentation\" viewBox=\"0 0 24 24\" class=\"css-8wgz7g\">\n              <path\n                d=\"M15.422 16.078l-1.406 1.406-6-6 6-6 1.406 1.406-4.594 4.594z\" />\n            </svg>\n          </button>\n        {:else}\n          <div class=\"empty\" />\n        {/if}\n        {#if blink && curr_idx < images.length - 1}\n          <button on:click={right} in:fade out:fade>\n            <svg role=\"presentation\" viewBox=\"0 0 24 24\" class=\"css-8wgz7g\">\n              <path d=\"M9.984 6l6 6-6 6-1.406-1.406 4.594-4.594-4.594-4.594z\" />\n            </svg>\n          </button>\n        {:else}\n          <div class=\"empty\" />\n        {/if}\n      </div>\n      <img {...image} alt={image.alt || ''} />\n    </div>\n  {/each}\n</div>\n","<script>\n  import { getContext } from \"svelte\";\n  import Carousel from \"./Carousel.svelte\";\n\n  export let images = [];\n  export let gutter = 2;\n\n  const { open } = getContext(\"simple-modal\");\n\n  const popModal = idx => {\n    open(Carousel, { images, curr_idx: idx });\n  };\n</script>\n\n<style>\n  .gallery {\n    display: flex;\n    flex-wrap: wrap;\n    flex: 1 1;\n  }\n\n  .img-container {\n    background-color: #eee;\n    box-sizing: border-box;\n    float: left;\n    margin: calc(var(--gutter) * 1px);\n    overflow: hidden;\n    position: relative;\n    width: calc(25% - var(--gutter) * 2px);\n  }\n\n  .img-container:hover {\n    opacity: 0.9;\n  }\n\n  .img-container img {\n    cursor: pointer;\n    position: absolute;\n    max-width: 100%;\n  }\n</style>\n\n<div class=\"gallery\" style=\"--gutter: {gutter};\">\n  {#each images as image, i}\n    <div class=\"img-container\">\n      <img {...image} alt={image.alt || ''} on:click={() => popModal(i)} />\n    </div>\n  {/each}\n</div>\n","<script>\n  import { setContext as baseSetContext } from \"svelte\";\n  import { fade } from \"svelte/transition\";\n  export let key = \"simple-modal\";\n  export let closeOnEsc = true;\n  export let closeOnOuterClick = true;\n  export let transitionBg = fade;\n  export let transitionBgProps = { duration: 250 };\n  export let transitionWindow = transitionBg;\n  export let transitionWindowProps = transitionBgProps;\n  export let styleBg = { top: 0, left: 0 };\n  export let styleWindow = {};\n  export let styleContent = {};\n  export let setContext = baseSetContext;\n  let Component = null;\n  let props = null;\n  let background;\n  let wrap;\n  let customStyleBg = {};\n  let customStyleWindow = {};\n  let customStyleContent = {};\n  const camelCaseToDash = str =>\n    str.replace(/([a-zA-Z])(?=[A-Z])/g, \"$1-\").toLowerCase();\n  const toCssString = props =>\n    Object.keys(props).reduce(\n      (str, key) => `${str}; ${camelCaseToDash(key)}: ${props[key]}`,\n      \"\"\n    );\n  $: cssBg = toCssString(Object.assign({}, styleBg, customStyleBg));\n  $: cssWindow = toCssString(Object.assign({}, styleWindow, customStyleWindow));\n  $: cssContent = toCssString(\n    Object.assign({}, styleContent, customStyleContent)\n  );\n  const open = (\n    NewComponent,\n    newProps = {},\n    style = { bg: {}, window: {}, content: {} }\n  ) => {\n    Component = NewComponent;\n    props = newProps;\n    customStyleBg = style.bg || {};\n    customStyleWindow = style.window || {};\n    customStyleContent = style.content || {};\n  };\n  const close = () => {\n    Component = null;\n    props = null;\n    customStyleBg = {};\n    customStyleWindow = {};\n    customStyleContent = {};\n  };\n  const handleKeyup = ({ key }) => {\n    if (closeOnEsc && Component && key === \"Escape\") {\n      event.preventDefault();\n      close();\n    }\n  };\n  const handleOuterClick = event => {\n    if (\n      closeOnOuterClick &&\n      (event.target === background || event.target === wrap)\n    ) {\n      event.preventDefault();\n      close();\n    }\n  };\n  setContext(key, { open, close });\n</script>\n\n<style>\n  * {\n    box-sizing: border-box;\n  }\n  .bg {\n    position: fixed;\n    z-index: 1000;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.66);\n  }\n  .window-wrap {\n    position: relative;\n  }\n  .window {\n    position: relative;\n  }\n  .content {\n    position: relative;\n  }\n</style>\n\n<svelte:window on:keyup={handleKeyup} />\n\n<div>\n  {#if Component}\n    <div\n      class=\"bg\"\n      on:click={handleOuterClick}\n      bind:this={background}\n      transition:transitionBg={transitionBgProps}\n      style={cssBg}>\n      <div class=\"window-wrap\" bind:this={wrap}>\n        <div\n          class=\"window\"\n          transition:transitionWindow={transitionWindowProps}\n          style={cssWindow}>\n          <div class=\"content\" style={cssContent}>\n            <Component {...props} />\n          </div>\n        </div>\n      </div>\n    </div>\n  {/if}\n  <slot />\n</div>\n","<script>\n  import Images from \"./Images.svelte\";\n  import Modal from \"./Modal.svelte\";\n</script>\n\n<style>\n  .svelte-images-container {\n    width: 100%;\n    height: 100%;\n    display: flex;\n  }\n  :global(.svelte-images-container > div) {\n    display: flex;\n    flex: 1 1;\n  }\n</style>\n\n<div class=\"svelte-images-container\">\n  <Modal>\n    <Images {...$$props} />\n  </Modal>\n</div>\n","import Images from \"./Images/index.svelte\";\n\nexport default (() => {\n  return Images;\n})();\n"],"names":["ctx","length","alt","blinkDelay","decrement","num","images","curr_idx","translateX","window","innerWidth","increment","blink","doBlink","setTimeout","right","left","gutter","open","getContext","popModal","idx","Carousel","i","key","closeOnEsc","closeOnOuterClick","transitionBg","fade","transitionBgProps","duration","transitionWindow","transitionWindowProps","styleBg","top","styleWindow","styleContent","setContext","baseSetContext","Component","props","background","wrap","customStyleBg","customStyleWindow","customStyleContent","camelCaseToDash","str","replace","toLowerCase","toCssString","Object","keys","reduce","NewComponent","newProps","style","bg","content","close","handleKeyup","event","preventDefault","handleOuterClick","target","$","cssBg","assign","cssWindow","cssContent","Images"],"mappings":"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"}